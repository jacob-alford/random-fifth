{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["audio","AudioContext","FREQUENCIES","INITIAL_FREQUENCY","Math","random","length","CONSECUTIVE_FREQUENCY_RATIO","pow","MIN_FREQUENCY","MAX_FREQUENCY","setFreq","sf","osc","frequency","value","getNextFreq","oldFreq","pipe","newFreq","playLoop","oscillator","createOscillator","type","connect","destination","getOsc","duration","start","interval","intv","subscribe","AppContainer","styled","div","Button","button","Header","App","useState","s","ss","startSound","useCallback","reload","window","location","onClick","disabled","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6qCAKA,IAAMA,EAAQ,IAAIC,aAEZC,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,IACA,MACA,IACA,OACA,QAEIC,EAAoBD,EAAaE,KAAKC,SAAWH,EAAYI,OAAU,GACvEC,EAA8BH,KAAKI,IAAI,EAAG,EAAI,IAC9CC,EACJN,EAAoBC,KAAKI,IAAID,GAA8B,GACvDG,EACJP,EAAoBC,KAAKI,IAAID,EAA6B,GAQtDI,EAAU,SAACC,GAAD,OAAqC,SAACC,GAEpD,OADAA,EAAIC,UAAUC,MAAQH,EAAGC,EAAIC,UAAUC,OAChCF,IAMHG,EAAc,SAACC,GAAD,OAClBC,eACED,EACEb,KAAKI,IAAID,EAA6B,EAAE,EAAG,GAAoB,EAAhBH,KAAKC,SAAgB,KACtE,SAAAc,GAAO,OACLA,EAAUT,EACNO,EAAUV,EACVY,EAAUV,EACVQ,EAAUV,EACVY,MAEJC,EAAW,SAACN,GAAD,OACfI,eA1Ba,WACb,IAAMG,EAAarB,EAAMsB,mBAGzB,OAFAD,EAAWE,KAAO,OAClBF,EAAWG,QAAQxB,EAAMyB,aAClBJ,EAsBFK,IAAU,SAAAb,GAAG,OAChBK,eACEL,EACAF,GAAQ,kBAAMG,MAnBHa,EAoBH,IApBwB,SAACd,GAErC,OADAA,EAAIe,QACGC,YAASF,MAmBZ,SAAAG,GAAI,OAAIA,EAAKC,WAAU,kBAAMb,eAAKL,EAAKF,EAAQK,UArBrC,IAACW,MAyBXK,EAAeC,IAAOC,IAAV,KASZC,EAASF,IAAOG,OAAV,KAiBNC,EAASJ,IAAOC,IAAV,KA8BGI,EAtBH,WAAO,IAAD,EACAC,oBAAS,GADT,mBACTC,EADS,KACNC,EADM,KAEVC,EAAaC,uBAAY,WAC7BvB,EAASjB,GACTsC,GAAG,KACF,IACGG,EAASD,uBAAY,WACzBE,OAAOC,SAASF,WACf,IACH,OACE,eAACZ,EAAD,WACE,cAACK,EAAD,UAASlC,IACT,gCACE,cAACgC,EAAD,CAAQY,QAASL,EAAYM,SAAUR,EAAvC,+BAGA,cAACL,EAAD,CAAQY,QAASH,EAAjB,wCCnGOK,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCJdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.8ab25a86.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { interval } from \"rxjs\";\nimport styled from \"styled-components\";\n\nconst audio = new AudioContext();\n\nconst FREQUENCIES = [\n  261.63,\n  277.18,\n  293.66,\n  311.13,\n  329.63,\n  349.23,\n  369.99,\n  392.0,\n  415.3,\n  440,\n  466.16,\n  493.88\n];\nconst INITIAL_FREQUENCY = FREQUENCIES[(Math.random() * FREQUENCIES.length) | 0];\nconst CONSECUTIVE_FREQUENCY_RATIO = Math.pow(2, 7 / 12);\nconst MIN_FREQUENCY =\n  INITIAL_FREQUENCY * Math.pow(CONSECUTIVE_FREQUENCY_RATIO, -3);\nconst MAX_FREQUENCY =\n  INITIAL_FREQUENCY * Math.pow(CONSECUTIVE_FREQUENCY_RATIO, 3);\n\nconst getOsc = () => {\n  const oscillator = audio.createOscillator();\n  oscillator.type = \"sine\";\n  oscillator.connect(audio.destination);\n  return oscillator;\n};\nconst setFreq = (sf: (oldFreq: number) => number) => (osc: OscillatorNode) => {\n  osc.frequency.value = sf(osc.frequency.value);\n  return osc;\n};\nconst playOsc = (duration: number) => (osc: OscillatorNode) => {\n  osc.start();\n  return interval(duration);\n};\nconst getNextFreq = (oldFreq: number) =>\n  pipe(\n    oldFreq *\n      Math.pow(CONSECUTIVE_FREQUENCY_RATIO, [-1, 1][(Math.random() * 2) | 0]),\n    newFreq =>\n      newFreq > MAX_FREQUENCY\n        ? oldFreq / CONSECUTIVE_FREQUENCY_RATIO\n        : newFreq < MIN_FREQUENCY\n        ? oldFreq * CONSECUTIVE_FREQUENCY_RATIO\n        : newFreq\n  );\nconst playLoop = (frequency: number) =>\n  pipe(getOsc(), osc =>\n    pipe(\n      osc,\n      setFreq(() => frequency),\n      playOsc(250),\n      intv => intv.subscribe(() => pipe(osc, setFreq(getNextFreq)))\n    )\n  );\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-flow: column;\n  width: 100vw;\n  height: 100vh;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n\nconst Button = styled.button`\n  background: palevioletred;\n  border: 2px solid rgba(255, 255, 255, 0.8);\n  border-radius: 12px;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  font-weight: 800;\n  font-size: 48px;\n  color: white;\n  padding: 24px;\n  height: 100%;\n  transition: background 0.5s;\n  &:disabled {\n    background: rgba(0, 0, 0, 0.24);\n  }\n`;\n\nconst Header = styled.div`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  font-weight: 100;\n  font-size: 96px;\n  color: rgba(0, 0, 0, 0.69);\n`;\n\nconst App = () => {\n  const [s, ss] = useState(false);\n  const startSound = useCallback(() => {\n    playLoop(INITIAL_FREQUENCY);\n    ss(true);\n  }, []);\n  const reload = useCallback(() => {\n    window.location.reload();\n  }, []);\n  return (\n    <AppContainer>\n      <Header>{INITIAL_FREQUENCY}</Header>\n      <div>\n        <Button onClick={startSound} disabled={s}>\n          ‚ñ∂Ô∏è Play\n        </Button>\n        <Button onClick={reload}>üîÉ Reload</Button>\n      </div>\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}